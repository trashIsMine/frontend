{"ast":null,"code":"var _jsxFileName = \"/Users/parksaseong/Desktop/saseong/github/frontend/src/pages/MapPage.tsx\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState } from \"react\";\n// import styles from \"../styles/mappage.module.scss\";\n//\n// declare global {\n//     interface Window {\n//         kakao: any;\n//     }\n// }\n//\n// interface MapPageProps {\n//     selectedPlace: { lat: number, lng: number } | null; // 예시 타입, 필요에 따라 수정\n//     login: boolean;\n//     setLogin: React.Dispatch<React.SetStateAction<boolean>>;\n// }\n//\n// function MapPage({ selectedPlace, login, setLogin }: MapPageProps) {\n//     if (login) {\n//         setLogin(true);\n//     }\n//     else {\n//         setLogin(false);\n//     }\n//     const [center, setCenter] = useState<{ lat: number, lng: number }>({ lat: 33.450701, lng: 126.570667 });\n//     const [position, setPosition] = useState<{ lat: number, lng: number }>({ lat: 33.450701, lng: 126.570667 });\n//\n//     useEffect(() => {\n//         const initializeMap = (latitude: number, longitude: number) => {\n//             // 지도생성\n//             const container = document.getElementById('map');\n//             const options = {\n//                 center: new window.kakao.maps.LatLng(latitude, longitude),\n//                 level: 3\n//             };\n//             const map = new window.kakao.maps.Map(container, options);\n//             // 여기까지\n//\n//             // 현재 위치에 마커 표시\n//             const currentMarkerPosition = new window.kakao.maps.LatLng(latitude, longitude);\n//             const currentMarker = new window.kakao.maps.Marker({\n//                 position: currentMarkerPosition,\n//                 title: \"현재 위치\"\n//             });\n//             currentMarker.setMap(map);\n//\n//             if (selectedPlace) {\n//                 const markerPosition = new window.kakao.maps.LatLng(selectedPlace.lat, selectedPlace.lng);\n//                 const marker = new window.kakao.maps.Marker({\n//                     position: markerPosition\n//                 });\n//\n//                 const iwContent = '<div style=\"padding:5px;\">선택된 장소</div>',\n//                     iwRemoveable = true;\n//\n//                 const infowindow = new window.kakao.maps.InfoWindow({\n//                     content: iwContent,\n//                     removable: iwRemoveable\n//                 });\n//\n//                 marker.setMap(map);\n//\n//                 window.kakao.maps.event.addListener(marker, 'click', function () {\n//                     infowindow.open(map, marker);\n//                 });\n//             }\n//         };\n//\n//         navigator.geolocation.getCurrentPosition((pos) => {\n//             const latitude = pos.coords.latitude;\n//             const longitude = pos.coords.longitude;\n//             setCenter({ lat: latitude, lng: longitude });\n//             setPosition({ lat: latitude, lng: longitude });\n//             initializeMap(latitude, longitude);\n//         });\n//\n//         const watchId = navigator.geolocation.watchPosition((pos) => {\n//             const latitude = pos.coords.latitude;\n//             const longitude = pos.coords.longitude;\n//             setPosition({ lat: latitude, lng: longitude });\n//         });\n//\n//         return () => {\n//             navigator.geolocation.clearWatch(watchId);\n//         };\n//     }, [selectedPlace, position]);\n//\n//     useEffect(() => {\n//         if (position.lat !== 0 && position.lng !== 0) {\n//             const container = document.getElementById('map');\n//             const options = {\n//                 center: new window.kakao.maps.LatLng(position.lat, position.lng),\n//                 level: 3\n//             };\n//             const map = new window.kakao.maps.Map(container, options);\n//\n//             const currentMarkerPosition = new window.kakao.maps.LatLng(position.lat, position.lng);\n//             const currentMarker = new window.kakao.maps.Marker({\n//                 position: currentMarkerPosition,\n//                 title: \"현재 위치\"\n//             });\n//             currentMarker.setMap(map);\n//         }\n//     }, [position]);\n//\n//     return (\n//         <div id=\"map\" className={styles.map}>\n//         </div>\n//     );\n// }\n//\n// export default MapPage;\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport styles from \"../styles/mappage.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MapPage({\n  selectedPlace,\n  login,\n  setLogin\n}) {\n  _s();\n  const [position, setPosition] = useState({\n    lat: 33.450701,\n    lng: 126.570667\n  });\n  const mapRef = useRef(null); // 맵 객체를 저장할 ref\n  const markerRef = useRef(null); // 마커 객체를 저장할 ref\n\n  useEffect(() => {\n    const container = document.getElementById('map');\n    const options = {\n      center: new window.kakao.maps.LatLng(position.lat, position.lng),\n      level: 3\n    };\n    const map = new window.kakao.maps.Map(container, options);\n    mapRef.current = map;\n    const marker = new window.kakao.maps.Marker({\n      position: new window.kakao.maps.LatLng(position.lat, position.lng),\n      map: map,\n      title: \"현재 위치\"\n    });\n    markerRef.current = marker;\n  }, []); // 한 번만 실행\n\n  useEffect(() => {\n    // 사용자 위치 감시\n    const watchId = navigator.geolocation.watchPosition(pos => {\n      const {\n        latitude,\n        longitude\n      } = pos.coords;\n      setPosition({\n        lat: latitude,\n        lng: longitude\n      });\n      if (mapRef.current && markerRef.current) {\n        const newPosition = new window.kakao.maps.LatLng(latitude, longitude);\n        markerRef.current.setPosition(newPosition);\n        mapRef.current.setCenter(newPosition);\n      }\n    });\n    return () => navigator.geolocation.clearWatch(watchId);\n  }, []);\n  useEffect(() => {\n    // 선택된 위치에 마커 업데이트\n    if (selectedPlace && mapRef.current && markerRef.current) {\n      const newPosition = new window.kakao.maps.LatLng(selectedPlace.lat, selectedPlace.lng);\n      markerRef.current.setPosition(newPosition);\n      mapRef.current.setCenter(newPosition);\n    }\n  }, [selectedPlace]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    className: styles.map\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 9\n  }, this);\n}\n_s(MapPage, \"8UC4Q3M8kgyn78xwrLsiTh0yU5c=\");\n_c = MapPage;\nexport default MapPage;\nvar _c;\n$RefreshReg$(_c, \"MapPage\");","map":{"version":3,"names":["React","useEffect","useState","useRef","styles","jsxDEV","_jsxDEV","MapPage","selectedPlace","login","setLogin","_s","position","setPosition","lat","lng","mapRef","markerRef","container","document","getElementById","options","center","window","kakao","maps","LatLng","level","map","Map","current","marker","Marker","title","watchId","navigator","geolocation","watchPosition","pos","latitude","longitude","coords","newPosition","setCenter","clearWatch","id","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/parksaseong/Desktop/saseong/github/frontend/src/pages/MapPage.tsx"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\n// import styles from \"../styles/mappage.module.scss\";\n//\n// declare global {\n//     interface Window {\n//         kakao: any;\n//     }\n// }\n//\n// interface MapPageProps {\n//     selectedPlace: { lat: number, lng: number } | null; // 예시 타입, 필요에 따라 수정\n//     login: boolean;\n//     setLogin: React.Dispatch<React.SetStateAction<boolean>>;\n// }\n//\n// function MapPage({ selectedPlace, login, setLogin }: MapPageProps) {\n//     if (login) {\n//         setLogin(true);\n//     }\n//     else {\n//         setLogin(false);\n//     }\n//     const [center, setCenter] = useState<{ lat: number, lng: number }>({ lat: 33.450701, lng: 126.570667 });\n//     const [position, setPosition] = useState<{ lat: number, lng: number }>({ lat: 33.450701, lng: 126.570667 });\n//\n//     useEffect(() => {\n//         const initializeMap = (latitude: number, longitude: number) => {\n//             // 지도생성\n//             const container = document.getElementById('map');\n//             const options = {\n//                 center: new window.kakao.maps.LatLng(latitude, longitude),\n//                 level: 3\n//             };\n//             const map = new window.kakao.maps.Map(container, options);\n//             // 여기까지\n//\n//             // 현재 위치에 마커 표시\n//             const currentMarkerPosition = new window.kakao.maps.LatLng(latitude, longitude);\n//             const currentMarker = new window.kakao.maps.Marker({\n//                 position: currentMarkerPosition,\n//                 title: \"현재 위치\"\n//             });\n//             currentMarker.setMap(map);\n//\n//             if (selectedPlace) {\n//                 const markerPosition = new window.kakao.maps.LatLng(selectedPlace.lat, selectedPlace.lng);\n//                 const marker = new window.kakao.maps.Marker({\n//                     position: markerPosition\n//                 });\n//\n//                 const iwContent = '<div style=\"padding:5px;\">선택된 장소</div>',\n//                     iwRemoveable = true;\n//\n//                 const infowindow = new window.kakao.maps.InfoWindow({\n//                     content: iwContent,\n//                     removable: iwRemoveable\n//                 });\n//\n//                 marker.setMap(map);\n//\n//                 window.kakao.maps.event.addListener(marker, 'click', function () {\n//                     infowindow.open(map, marker);\n//                 });\n//             }\n//         };\n//\n//         navigator.geolocation.getCurrentPosition((pos) => {\n//             const latitude = pos.coords.latitude;\n//             const longitude = pos.coords.longitude;\n//             setCenter({ lat: latitude, lng: longitude });\n//             setPosition({ lat: latitude, lng: longitude });\n//             initializeMap(latitude, longitude);\n//         });\n//\n//         const watchId = navigator.geolocation.watchPosition((pos) => {\n//             const latitude = pos.coords.latitude;\n//             const longitude = pos.coords.longitude;\n//             setPosition({ lat: latitude, lng: longitude });\n//         });\n//\n//         return () => {\n//             navigator.geolocation.clearWatch(watchId);\n//         };\n//     }, [selectedPlace, position]);\n//\n//     useEffect(() => {\n//         if (position.lat !== 0 && position.lng !== 0) {\n//             const container = document.getElementById('map');\n//             const options = {\n//                 center: new window.kakao.maps.LatLng(position.lat, position.lng),\n//                 level: 3\n//             };\n//             const map = new window.kakao.maps.Map(container, options);\n//\n//             const currentMarkerPosition = new window.kakao.maps.LatLng(position.lat, position.lng);\n//             const currentMarker = new window.kakao.maps.Marker({\n//                 position: currentMarkerPosition,\n//                 title: \"현재 위치\"\n//             });\n//             currentMarker.setMap(map);\n//         }\n//     }, [position]);\n//\n//     return (\n//         <div id=\"map\" className={styles.map}>\n//         </div>\n//     );\n// }\n//\n// export default MapPage;\n\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport styles from \"../styles/mappage.module.scss\";\n\ndeclare global {\n    interface Window {\n        kakao: any;\n    }\n}\n\ninterface MapPageProps {\n    selectedPlace: { lat: number, lng: number } | null;\n    login: boolean;\n    setLogin: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nfunction MapPage({ selectedPlace, login, setLogin }: MapPageProps) {\n    const [position, setPosition] = useState<{ lat: number, lng: number }>({ lat: 33.450701, lng: 126.570667 });\n    const mapRef = useRef(null); // 맵 객체를 저장할 ref\n    const markerRef = useRef(null); // 마커 객체를 저장할 ref\n\n    useEffect(() => {\n        const container = document.getElementById('map');\n        const options = {\n            center: new window.kakao.maps.LatLng(position.lat, position.lng),\n            level: 3\n        };\n        const map = new window.kakao.maps.Map(container, options);\n        mapRef.current = map;\n\n        const marker = new window.kakao.maps.Marker({\n            position: new window.kakao.maps.LatLng(position.lat, position.lng),\n            map: map,\n            title: \"현재 위치\"\n        });\n        markerRef.current = marker;\n    }, []); // 한 번만 실행\n\n    useEffect(() => {\n        // 사용자 위치 감시\n        const watchId = navigator.geolocation.watchPosition((pos) => {\n            const { latitude, longitude } = pos.coords;\n            setPosition({ lat: latitude, lng: longitude });\n\n            if (mapRef.current && markerRef.current) {\n                const newPosition = new window.kakao.maps.LatLng(latitude, longitude);\n                markerRef.current.setPosition(newPosition);\n                mapRef.current.setCenter(newPosition);\n            }\n        });\n\n        return () => navigator.geolocation.clearWatch(watchId);\n    }, []);\n\n    useEffect(() => {\n        // 선택된 위치에 마커 업데이트\n        if (selectedPlace && mapRef.current && markerRef.current) {\n            const newPosition = new window.kakao.maps.LatLng(selectedPlace.lat, selectedPlace.lng);\n            markerRef.current.setPosition(newPosition);\n            mapRef.current.setCenter(newPosition);\n        }\n    }, [selectedPlace]);\n\n    return (\n        <div id=\"map\" className={styles.map}></div>\n    );\n}\n\nexport default MapPage;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,+BAA+B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAcnD,SAASC,OAAOA,CAAC;EAAEC,aAAa;EAAEC,KAAK;EAAEC;AAAuB,CAAC,EAAE;EAAAC,EAAA;EAC/D,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAA+B;IAAEY,GAAG,EAAE,SAAS;IAAEC,GAAG,EAAE;EAAW,CAAC,CAAC;EAC3G,MAAMC,MAAM,GAAGb,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;EAC7B,MAAMc,SAAS,GAAGd,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;EAEhCF,SAAS,CAAC,MAAM;IACZ,MAAMiB,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,KAAK,CAAC;IAChD,MAAMC,OAAO,GAAG;MACZC,MAAM,EAAE,IAAIC,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,MAAM,CAACd,QAAQ,CAACE,GAAG,EAAEF,QAAQ,CAACG,GAAG,CAAC;MAChEY,KAAK,EAAE;IACX,CAAC;IACD,MAAMC,GAAG,GAAG,IAAIL,MAAM,CAACC,KAAK,CAACC,IAAI,CAACI,GAAG,CAACX,SAAS,EAAEG,OAAO,CAAC;IACzDL,MAAM,CAACc,OAAO,GAAGF,GAAG;IAEpB,MAAMG,MAAM,GAAG,IAAIR,MAAM,CAACC,KAAK,CAACC,IAAI,CAACO,MAAM,CAAC;MACxCpB,QAAQ,EAAE,IAAIW,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,MAAM,CAACd,QAAQ,CAACE,GAAG,EAAEF,QAAQ,CAACG,GAAG,CAAC;MAClEa,GAAG,EAAEA,GAAG;MACRK,KAAK,EAAE;IACX,CAAC,CAAC;IACFhB,SAAS,CAACa,OAAO,GAAGC,MAAM;EAC9B,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER9B,SAAS,CAAC,MAAM;IACZ;IACA,MAAMiC,OAAO,GAAGC,SAAS,CAACC,WAAW,CAACC,aAAa,CAAEC,GAAG,IAAK;MACzD,MAAM;QAAEC,QAAQ;QAAEC;MAAU,CAAC,GAAGF,GAAG,CAACG,MAAM;MAC1C5B,WAAW,CAAC;QAAEC,GAAG,EAAEyB,QAAQ;QAAExB,GAAG,EAAEyB;MAAU,CAAC,CAAC;MAE9C,IAAIxB,MAAM,CAACc,OAAO,IAAIb,SAAS,CAACa,OAAO,EAAE;QACrC,MAAMY,WAAW,GAAG,IAAInB,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,MAAM,CAACa,QAAQ,EAAEC,SAAS,CAAC;QACrEvB,SAAS,CAACa,OAAO,CAACjB,WAAW,CAAC6B,WAAW,CAAC;QAC1C1B,MAAM,CAACc,OAAO,CAACa,SAAS,CAACD,WAAW,CAAC;MACzC;IACJ,CAAC,CAAC;IAEF,OAAO,MAAMP,SAAS,CAACC,WAAW,CAACQ,UAAU,CAACV,OAAO,CAAC;EAC1D,CAAC,EAAE,EAAE,CAAC;EAENjC,SAAS,CAAC,MAAM;IACZ;IACA,IAAIO,aAAa,IAAIQ,MAAM,CAACc,OAAO,IAAIb,SAAS,CAACa,OAAO,EAAE;MACtD,MAAMY,WAAW,GAAG,IAAInB,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,MAAM,CAAClB,aAAa,CAACM,GAAG,EAAEN,aAAa,CAACO,GAAG,CAAC;MACtFE,SAAS,CAACa,OAAO,CAACjB,WAAW,CAAC6B,WAAW,CAAC;MAC1C1B,MAAM,CAACc,OAAO,CAACa,SAAS,CAACD,WAAW,CAAC;IACzC;EACJ,CAAC,EAAE,CAAClC,aAAa,CAAC,CAAC;EAEnB,oBACIF,OAAA;IAAKuC,EAAE,EAAC,KAAK;IAACC,SAAS,EAAE1C,MAAM,CAACwB;EAAI;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAEnD;AAACvC,EAAA,CAlDQJ,OAAO;AAAA4C,EAAA,GAAP5C,OAAO;AAoDhB,eAAeA,OAAO;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}